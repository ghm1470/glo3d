<h2 mat-dialog-title>Add Users</h2>
<form [formGroup]="addUserFormGroup" (ngSubmit)="onSubmitForm()">
  <mat-dialog-content class="mat-typography">
    <ng-container [formArrayName]="'users'">
      <ng-container *ngFor="let user of usersForm.controls; let index = index  let last = last">
        <div class="row" [formGroupName]="index">
          <div class="col-2 d-flex justify-content-center">
            <mat-form-field>
              <mat-label>FirstName</mat-label>
              <input formControlName="firstName"
                     matInput>
            </mat-form-field>
          </div>
          <div class="col-2 d-flex justify-content-center">
            <mat-form-field>
              <mat-label>LastName</mat-label>
              <input formControlName="lastName"
                     matInput>
            </mat-form-field>
          </div>
          <div class="col-3 d-flex justify-content-center">
            <mat-form-field>
              <mat-label>Email</mat-label>
              <input formControlName="email" type="email"
                     matInput>
            </mat-form-field>
          </div>

          <div class="col-2 d-flex justify-content-center">
            <mat-form-field>
              <mat-label>Level</mat-label>
              <mat-select formControlName="level">
                <mat-option value="Admin">Admin</mat-option>
                <mat-option value="User">User</mat-option>
                <mat-option value="Guest">Guest</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2 d-flex justify-content-center">
            <mat-checkbox formControlName="status">status</mat-checkbox>
          </div>
          <div class="col-1 d-flex justify-content-center align-items-start" *ngIf="mode==='Add'">
            <mat-icon *ngIf="last" (click)="addUser()" class="cr-pointer text-info">add_circle_outline</mat-icon>
            <mat-icon *ngIf="!last" (click)="deleteUser(index)" class="text-danger cr-pointer">cancel</mat-icon>
          </div>
        </div>
      </ng-container>
    </ng-container>

  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button class="btn btn-danger" mat-button mat-dialog-close>Cancel</button>
    <button class="btn btn-success" mat-button type="submit" [disabled]="addUserFormGroup.invalid">Confirm</button>
  </mat-dialog-actions>
</form>
